# SingleStoreBulkCopy class

[`SingleStoreBulkCopy`](./SingleStoreBulkCopy.md) lets you efficiently load a SingleStore Server table with data from another source. It is similar to the [SqlBulkCopy](https://docs.microsoft.com/en-us/dotnet/api/system.data.sqlclient.sqlbulkcopy) class for SQL Server.

Due to [security features](https://mysqlconnector.net/troubleshooting/load-data-local-infile/) in SingleStore Server, the connection string must have `AllowLoadLocalInfile=true` in order to use this class.

For data that is in CSV or TSV format, use [`SingleStoreBulkLoader`](./SingleStoreBulkLoader.md) to bulk load the file.

Example code:

```csharp
// NOTE: to copy data between tables in the same database, use INSERT ... SELECT
// https://dev.mysql.com/doc/refman/8.0/en/insert-select.html
var dataTable = GetDataTableFromExternalSource();

// open the connection
using var connection = new SingleStoreConnection("...;AllowLoadLocalInfile=True");
await connection.OpenAsync();

// bulk copy the data
var bulkCopy = new SingleStoreBulkCopy(connection);
bulkCopy.DestinationTableName = "some_table_name";
var result = await bulkCopy.WriteToServerAsync(dataTable);

// check for problems
if (result.Warnings.Count != 0) { /* handle potential data loss warnings */ }
```

```csharp
public sealed class SingleStoreBulkCopy
```

## Public Members

| name | description |
| --- | --- |
| [SingleStoreBulkCopy](SingleStoreBulkCopy/SingleStoreBulkCopy.md)(…) | Initializes a [`SingleStoreBulkCopy`](./SingleStoreBulkCopy.md) object with the specified connection, and optionally the active transaction. |
| [BulkCopyTimeout](SingleStoreBulkCopy/BulkCopyTimeout.md) { get; set; } | The number of seconds for the operation to complete before it times out, or `0` for no timeout. |
| [ColumnMappings](SingleStoreBulkCopy/ColumnMappings.md) { get; } | A collection of [`SingleStoreBulkCopyColumnMapping`](./SingleStoreBulkCopyColumnMapping.md) objects. If the columns being copied from the data source line up one-to-one with the columns in the destination table then populating this collection is unnecessary. Otherwise, this should be filled with a collection of [`SingleStoreBulkCopyColumnMapping`](./SingleStoreBulkCopyColumnMapping.md) objects specifying how source columns are to be mapped onto destination columns. If one column mapping is specified, then all must be specified. |
| [ConflictOption](SingleStoreBulkCopy/ConflictOption.md) { get; set; } | A [`SingleStoreBulkLoaderConflictOption`](./SingleStoreBulkLoaderConflictOption.md) value that specifies how conflicts are resolved (default None). |
| [DestinationTableName](SingleStoreBulkCopy/DestinationTableName.md) { get; set; } | The name of the table to insert rows into. |
| [NotifyAfter](SingleStoreBulkCopy/NotifyAfter.md) { get; set; } | If non-zero, this specifies the number of rows to be processed before generating a notification event. |
| event [SingleStoreRowsCopied](SingleStoreBulkCopy/SingleStoreRowsCopied.md) | This event is raised every time that the number of rows specified by the [`NotifyAfter`](./SingleStoreBulkCopy/NotifyAfter.md) property have been processed. |
| [WriteToServer](SingleStoreBulkCopy/WriteToServer.md)(…) | Copies all rows in the supplied DataTable to the destination table specified by the [`DestinationTableName`](./SingleStoreBulkCopy/DestinationTableName.md) property of the [`SingleStoreBulkCopy`](./SingleStoreBulkCopy.md) object. (3 methods) |
| [WriteToServerAsync](SingleStoreBulkCopy/WriteToServerAsync.md)(…) | Asynchronously copies all rows in the supplied DataTable to the destination table specified by the [`DestinationTableName`](./SingleStoreBulkCopy/DestinationTableName.md) property of the [`SingleStoreBulkCopy`](./SingleStoreBulkCopy.md) object. (3 methods) |

## Remarks

Note: This API is a unique feature of SingleStoreConnector; you must [switch to SingleStoreConnector](https://mysqlconnector.net/overview/installing/) in order to use it.

This API is experimental and may change in the future.

## See Also

* namespace [SingleStoreConnector](../SingleStoreConnector.md)

<!-- DO NOT EDIT: generated by xmldocmd for SingleStoreConnector.dll -->
